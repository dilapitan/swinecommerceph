{"version":3,"sources":["editProduct.js","filter.js","manageProducts_script.js","formValidationMethods.js","manageProducts_validation.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"editProducts.js","sourcesContent":["$(document).ready(function () {\n\n  /** \n   *  Used for filling the input fields of the product with the initial data from the database\n  */\n\n  // SWINE INFORMATION\n  $('#edit-name').val(product.name);\n  $('#edit-select-type').val(product.type.toLowerCase());\n  $('#edit-select-farm').val(product.farm_from_id);\n  $('#edit-price').val(product.price);\n\n  // BREED INFORMATION\n\n  // For the breed initialization\n  if (product.breed.includes('x')) {\n    var crossbreed = product.breed.split('x');\n\n    // Check the crossbreed radio\n    $('.edit-crossbreed').prop('checked', true);\n\n    $('#edit-fbreed').val(crossbreed[0].toString().trim());\n    $('#edit-mbreed').val(crossbreed[1].toString().trim());\n    setTimeout(function () {\n      $('.input-purebreed-container').hide();\n      $('.input-crossbreed-container').show();\n    }, 100);\n\n  }\n  else {\n    // Check the purebreed radio\n    $('.edit-purebreed').prop('checked', true);\n\n    $('#edit-breed').val(product.breed);\n    $('.input-crossbreed-container').hide();\n    $('.input-purebreed-container').show();\n  }\n\n  // setting the birthdate differently since simple val() does not work\n  var birthdatePicker = $('#edit-birthdate').pickadate();\n  var picker = birthdatePicker.pickadate('picker');\n  console.log(product.birthdate);\n  picker.set('select', new Date(product.birthdate));\n\n  $('#edit-adg').val(product.adg);\n  $('#edit-fcr').val(product.fcr);\n  $('#edit-backfat_thickness').val(product.backfat_thickness);\n\n  // for enabling select tags\n  $('select').material_select();\n});\n","'use strict';\n\nvar filter = {\n    apply: function(){\n        // URL search syntax: ?type=value[+value]*&status=value[+value]&sort=value*\n        var filter_parameters = '?';\n        var type_url = 'type=';\n        var status_url = '&status=';\n        var sort_url = '&sort=';\n\n        // Type parameter\n        type_url += $('#type-select option:selected').val();\n\n        // Status parameter\n        status_url += $('#status-select option:selected').val();\n\n        // Sort parameter\n        sort_url += $('#sort-select option:selected').val();\n\n        filter_parameters += type_url + status_url + sort_url;\n\n        window.location = config.manageProducts_url+filter_parameters;\n\n    }\n};\n","$(document).ready(function () {\n\n  // Variable for checking if all products\n  // are selected or not\n  var all_checked = false;\n\n  $('#add-media-modal').modal({ dismissible: false });\n\n  // Hide certain elements\n  $('.input-crossbreed-container').hide();\n\n  // initialization of Materialize's Date Picker\n  $('.datepicker').pickadate({\n    max: true,\n    selectMonths: true,\n    selectYears: 4,\n    format: 'mmmm d, yyyy'\n  });\n\n  /* ----------- Manage Products page general functionalities ----------- */\n  // Always showing FAB\n  $('#action-button').show();\n\n  // Back to top button functionality\n  /*$(window).scroll(function(){\n      if ($(this).scrollTop() >= 250) $('#action-button').fadeIn(200);\n      else{\n          $('.fixed-action-btn').closeFAB();\n          $('#action-button').fadeOut(200);\n      }\n  });*/\n\n  // Giving a border on product card/s when checkbox is clicked\n  $('.single-checkbox').change(function (e) {\n    e.preventDefault();\n\n    // Iterates all the product cards\n    $('#view-products-container input[type=checkbox]').each(function () {\n\n      // Locates the checked card/s and retrieves the id/s for jQuery\n      var string = \"#product-\";\n      var product_id = $(this).attr('data-product-id');\n      var div_id = string + product_id;\n\n      // Apply the border on the element with class of 'card hoverable'\n      var card_element = div_id + \">div\";\n\n      // Apply the border/s if checked, else remove the blue border\n      if ($(this).is(':checked')) {\n        $(card_element).css({\n          \"border\": \"solid 4px #00705E\"\n        });\n      }\n      else {\n        $(card_element).css({\n          \"border\": \"solid 4px transparent\"\n        });\n      }\n    });\n  });\n\n  // Select All Products\n  $('.select-all-button').click(function (e) {\n    e.preventDefault();\n\n    if (!all_checked) {\n      // Check all checkboxes\n      $('#view-products-container input[type=checkbox]').prop('checked', true);\n\n      // Add border to all cards\n      $('.card.hoverable').each(function () {\n        $(this).css({\n          \"border\": \"solid 4px #00705E\"\n        });\n      });\n\n      $('.select-all-button i').html('event_busy');\n      $('.select-all-button').attr('data-tooltip', 'Unselect all Products');\n      all_checked = true;\n    }\n    else {\n      // Uncheck all checkboxes\n      $('#view-products-container input[type=checkbox]').prop('checked', false);\n\n      // Remove the added border to all cards\n      $('.card.hoverable').each(function () {\n        $(this).css({\n          \"border\": \"solid 4px transparent\"\n        });\n      });\n      $('.select-all-button i').html('event_available');\n      $('.select-all-button').attr('data-tooltip', 'Select all Products');\n      all_checked = false;\n    }\n\n    $('.tooltipped').tooltip();\n  });\n\n  // Display Selected Button\n  $('.display-selected-button').click(function (e) {\n    e.preventDefault();\n    var checked_products = [];\n\n    $('#view-products-container input[type=checkbox]:checked').each(function () {\n      checked_products.push($(this).attr('data-product-id'));\n    });\n    product.update_selected($('#manage-selected-form'), '', checked_products, 'display');\n  });\n\n  // Hide Selected Button\n  $('.hide-selected-button').click(function (e) {\n    e.preventDefault();\n    var checked_products = [];\n\n    $('#view-products-container input[type=checkbox]:checked').each(function () {\n      checked_products.push($(this).attr('data-product-id'));\n    });\n    product.update_selected($('#manage-selected-form'), '', checked_products, 'hide');\n  });\n\n  // Delete selected products\n  $(\".delete-selected-button\").click(function (e) {\n    e.preventDefault();\n    var checked_products = [];\n\n    $('#view-products-container input[type=checkbox]:checked').each(function () {\n      checked_products.push($(this).attr('data-product-id'));\n    });\n    product.delete_selected($('#manage-selected-form'), checked_products, $('#view-products-container'));\n  });\n\n  // Display chosen product\n  $('body').on('click', '.display-product-button', function (e) {\n    e.preventDefault();\n    $(this).tooltip('remove');\n    product.update_selected($('#manage-selected-form'), $(this), [$(this).attr('data-product-id')], 'display');\n  });\n\n  // Hide chosen product\n  $('body').on('click', '.hide-product-button', function (e) {\n    e.preventDefault();\n    $(this).tooltip('remove');\n    product.update_selected($('#manage-selected-form'), $(this), [$(this).attr('data-product-id')], 'hide');\n  });\n\n  // Add a product\n  $('.add-product-button').click(function () {\n    $('#add-product-modal').modal({\n      ready: function () {\n        // Programmatically select th 'swine-information' tab\n        $('#add-product-modal ul.tabs').tabs('select_tab', 'swine-information');\n      }\n    });\n    $('#add-product-modal').modal('open');\n    product.modal_history.push('#add-product-modal');\n  });\n\n  // Edit chosen product\n  /* $('.edit-product-button').click(function () {\n    $('#edit-product-modal').modal({\n      ready: function () {\n        // Programmatically select the 'edit-swine-information' tab\n        $('#edit-product-modal ul.tabs').tabs('select_tab', 'edit-swine-information');\n      }\n    });\n    $('#edit-product-modal').modal('open');\n    product.get_product($(this).attr('data-product-id'));\n  }); */\n\n  // Delete chosen product\n  $('.delete-product-button').click(function (e) {\n    e.preventDefault();\n    product.delete_selected($('#manage-selected-form'), [$(this).attr('data-product-id')], $('#view-products-container'));\n  });\n\n  // Redirect to designated link upon checkbox value change\n  $(\"#dropdown-container select\").change(function () {\n    filter.apply();\n  });\n\n  // Back button on modals\n  $('.back-button').click(function (e) {\n    e.preventDefault();\n\n    $(product.modal_history.pop()).modal('close');\n\n    // If going back to add-product-modal it must be directed to edit-product-modal\n    if (product.modal_history_tos() === '#add-product-modal') {\n      product.get_product($('#add-media-modal form').find('input[name=\"productId\"]').val());\n\n      // Set-up first modal action buttons\n      if (product.modal_history_tos().includes('add')) {\n        $('.from-add-process').show();\n        $('.from-edit-process').hide();\n      }\n      else {\n        $('.from-add-process').hide();\n        $('.from-edit-process').show();\n      }\n    }\n    else $(product.modal_history_tos()).modal('open');\n  });\n\n  /* ----------- Add Product Modal functionalities ----------- */\n  $(\"#add-product-modal #other-details-tab\").click(function (e) {\n    $('#submit-button').show();\n  });\n\n  /* ----------- Add Media Modal functionalities ----------- */\n  // Move to Product Summary Modal\n  $('#next-button').click(function (e) {\n    e.preventDefault();\n    product.get_summary($('#add-media-modal form').find('input[name=\"productId\"]').val());\n  });\n\n  // media-dropzone initialization and configuration\n  Dropzone.options.mediaDropzone = {\n    paramName: 'media',\n    uploadMultiple: true,\n    parallelUploads: 1,\n    maxFiles: 12,\n    maxFilesize: 50,\n    acceptedFiles: \"image/png, image/jpeg, image/jpg, video/avi, video/mp4, video/flv, video/mov\",\n    dictDefaultMessage: \"<h5 style='font-weight: 300;'> Drop images/videos here to upload </h5>\" +\n      \"<i class='material-icons'>insert_photo</i> <i class='material-icons'>movie</i>\" +\n      \"<br> <h5 style='font-weight: 300;'> Or just click anywhere in this container to choose file </h5>\",\n    previewTemplate: document.getElementById('custom-preview').innerHTML,\n    init: function () {\n      // Listen to events\n      // Set default thumbnail for videos\n      this.on(\"addedfile\", function (file) {\n        if (file.type.match(/video.*/)) this.emit(\"thumbnail\", file, config.images_path + '/video-icon.png');\n      });\n\n      // Inject attributes on element upon success of multiple uploads\n      this.on('successmultiple', function (files, response) {\n        response = JSON.parse(response);\n        var item = 0;\n        response.forEach(function (element) {\n          var preview_element = files[item].previewElement;\n          preview_element.setAttribute('data-media-id', element.id);\n          preview_element.getElementsByClassName('dz-filename')[0].getElementsByTagName('span')[0].innerHTML = element.name;\n          item++;\n        });\n\n        $(\".tooltipped\").tooltip({ delay: 50 });\n      });\n\n      // Remove file from file system and database records\n      this.on('removedfile', function (file) {\n        var mime_type = file.type.split('/');\n        var media_type = mime_type[0];\n        // Do AJAX\n        $.ajax({\n          url: config.productMedia_url + '/delete',\n          type: \"DELETE\",\n          cache: false,\n          data: {\n            \"_token\": $('#media-dropzone').find('input[name=_token]').val(),\n            \"mediaId\": file.previewElement.getAttribute('data-media-id'),\n            \"mediaType\": media_type\n          },\n          success: function (data) {\n\n          },\n          error: function (message) {\n            console.log(message['responseText']);\n          }\n        });\n      });\n    }\n  };\n\n  /* ----------- Product Summary Product Modal functionalities ----------- */\n  // Save as Draft the Product created\n  $('#save-draft-button').click(function (e) {\n    e.preventDefault();\n\n    // Disable save-draft-button and display-button\n    $('#display-button').addClass('disabled');\n    $(this).addClass('disabled');\n    $(this).html('Saving as Draft ...');\n\n    window.setTimeout(function () {\n      location.reload(true);\n    }, 1200);\n\n  });\n\n  // Display Product created\n  $('#display-button').click(function (e) {\n    e.preventDefault();\n\n    // Disable display-button and save-draft-button\n    $('#save-draft-button').addClass('disabled');\n    $(this).addClass('disabled');\n    $(this).html('Displaying ...');\n\n    product.display_product($(this).parents('form'));\n  });\n\n  // Change html of set-display-photo anchor tag if it is a display photo\n  $('body').on('click', '.set-display-photo', function (e) {\n    e.preventDefault();\n\n    // Check first if chosen image not the current primary picture\n    if (product.current_display_photo != $(this).attr('data-img-id')) {\n      product.set_display_photo($(this), $(this).parents('form'), $(this).attr('data-product-id'), $(this).attr('data-img-id'));\n    }\n  });\n\n  $('#save-button').click(function (e) {\n    e.preventDefault();\n\n    // Disable save-button\n    $(this).addClass('disabled');\n    $(this).html('Saving ...');\n\n    window.setTimeout(function () {\n      location.reload(true);\n    }, 1200);\n  });\n\n  /* ----------- Edit Product Modal functionalities ----------- */\n  // Open Edit Media Modal\n  $('#edit-media-button').click(function (e) {\n    e.preventDefault();\n    $('#edit-product-modal').modal('close');\n    $('#edit-media-modal').modal({ dismissible: false });\n    $('#edit-media-modal').modal('open');\n    product.modal_history.push('#edit-media-modal')\n  });\n\n  // Open Add Media Modal\n  $('#add-media-button').click(function (e) {\n    e.preventDefault();\n    $('#edit-product-modal').modal('close');\n    $('#add-media-modal').modal({\n      dismissible: false,\n      ready: function () {\n        product.modal_history.push('#add-media-modal');\n      }\n    });\n    $('#add-media-modal').modal('open');\n  });\n\n  /* ----------- Edit Media Modal ----------- */\n  // edit-media-dropzone initialization and configuration\n  Dropzone.options.editMediaDropzone = {\n    paramName: 'media',\n    uploadMultiple: true,\n    parallelUploads: 1,\n    maxFiles: 12,\n    maxFilesize: 50,\n    acceptedFiles: \"image/png, image/jpeg, image/jpg, video/avi, video/mp4, video/flv, video/mov\",\n    dictDefaultMessage: \"<h5 style='font-weight: 300;'> Drop images/videos here to upload </h5>\" +\n      \"<i class='material-icons'>insert_photo</i> <i class='material-icons'>movie</i>\" +\n      \"<br> <h5 style='font-weight: 300;'> Or just click anywhere in this container to choose file </h5>\",\n    previewTemplate: document.getElementById('custom-preview').innerHTML,\n    init: function () {\n      // Listen to events\n\n      // Set default thumbnail for videos\n      this.on(\"addedfile\", function (file) {\n        if (file.type.match(/video.*/)) this.emit(\"thumbnail\", file, config.images_path + '/video-icon.png');\n      });\n\n      // Inject attributes on element upon success of multiple uploads\n      this.on('successmultiple', function (files, response) {\n        response = JSON.parse(response);\n        var item = 0;\n        response.forEach(function (element) {\n          var preview_element = files[item].previewElement;\n          preview_element.setAttribute('data-media-id', element.id);\n          preview_element.getElementsByClassName('dz-filename')[0].getElementsByTagName('span')[0].innerHTML = element.name;\n          item++;\n        });\n\n        $(\".tooltipped\").tooltip({ delay: 50 });\n      });\n\n      // Remove file from file system and database records\n      this.on('removedfile', function (file) {\n        var mime_type = file.type.split('/');\n        var media_type = mime_type[0];\n        // Do AJAX\n        $.ajax({\n          url: config.productMedia_url + '/delete',\n          type: \"DELETE\",\n          cache: false,\n          data: {\n            \"_token\": $('#media-dropzone').find('input[name=_token]').val(),\n            \"mediaId\": file.previewElement.getAttribute('data-media-id'),\n            \"mediaType\": media_type\n          },\n          success: function (data) {\n\n          },\n          error: function (message) {\n            console.log(message['responseText']);\n          }\n        });\n      });\n    }\n  };\n\n  // Delete image / Delete video button\n  $('body').on('click', '.delete-image, .delete-video', function (e) {\n    e.preventDefault();\n\n    // Disable delete-image/delete-video button\n    $(this).addClass('disabled');\n    $(this).html('Deleting ...');\n\n    var card_container = $(this).parents('.card').first().parent();\n    var data_values = {\n      \"_token\": $('#media-dropzone').find('input[name=_token]').val(),\n      \"mediaId\": $(this).attr('data-media-id')\n    };\n\n    // Check if the chosen media is an image and is the current display photo\n    if ($(this).hasClass('delete-image') && $(this).attr('data-media-id') == product.current_display_photo) {\n      Materialize.toast('Cannot delete display photo!', 1500, 'orange accent-2');\n\n      // Enable delete-image/delete-video button\n      $(this).removeClass('disabled');\n      $(this).html('Delete');\n    }\n    else {\n      // Initialize mediaType value\n      if ($(this).hasClass('delete-image')) data_values[\"mediaType\"] = 'image';\n      else data_values[\"mediaType\"] = 'video';\n\n      // Do AJAX\n      $.ajax({\n        url: config.productMedia_url + '/delete',\n        type: \"DELETE\",\n        cache: false,\n        data: data_values,\n        success: function (data) {\n\n          card_container.remove(); // remove the deleted card\n\n          // added an AJAX prompt when video list is empty\n          if ($('.delete-video').length == 0) {\n            var empty_video_prompt = '<p class=\"grey-text\">(No uploaded videos)</p>';\n            $('#edit-videos-summary .card-content .row').html(empty_video_prompt);\n          }\n        },\n        error: function (message) {\n          console.log(message['responseText']);\n        }\n      });\n    }\n\n  });\n\n\n  /* ----------- Form functionalities ----------- */\n  // Breed radio\n  $(\"input.purebreed , input.edit-purebreed\").on('click', function () {\n    $(this).parents('form').find('.input-crossbreed-container').hide();\n    $(this).parents('form').find('.input-purebreed-container').fadeIn(300);\n  });\n  $(\"input.crossbreed , input.edit-crossbreed\").on('click', function () {\n    $(this).parents('form').find('.input-purebreed-container').hide();\n    $(this).parents('form').find('.input-crossbreed-container').fadeIn(300);\n  });\n\n  $(\"input.purebreed , input.edit-purebreed\").change(function () {\n    if (this.checked) {\n      $(this).parents('form').find('.input-crossbreed-container').hide();\n      $(this).parents('form').find('.input-purebreed-container').fadeIn(300);\n    }\n  });\n  $(\"input.crossbreed , input.edit-crossbreed\").change(function () {\n    if (this.checked) {\n      $(this).parents('form').find('.input-purebreed-container').hide();\n      $(this).parents('form').find('.input-crossbreed-container').fadeIn(300);\n    }\n  });\n\n  // Manage necessary fields depending on product type\n  $(\"#select-type\").on('change', function () {\n    product.manage_necessary_fields($(this).parents('form'), $(this).val());\n  });\n  $(\"#edit-select-type\").on('change', function () {\n    product.manage_necessary_fields($(this).parents('form'), $(this).val());\n  });\n\n  // Add other details button\n  $(\".add-other-details\").click(function (e) {\n    e.preventDefault();\n    product.add_other_detail($(this).parents('form'));\n  });\n\n  // Remove a detail from other details section\n  $('body').on('click', '.remove-detail', function (e) {\n    e.preventDefault();\n    product.remove_other_detail($(this));\n  });\n\n\n});\n","'use strict';\n\n// Place error on specific HTML input\nvar placeError = function(inputElement, errorMsg){\n    // Parse id of element if it contains '-' for the special\n    // case of finding the input's respective\n    // label on editProfile pages\n    var inputId = (inputElement.id.includes('-') && /\\d/.test(inputElement.id))\n        ? (inputElement.id.split('-')[2])\n        : inputElement.id;\n\n    $(inputElement)\n        .parents(\"form\")\n        .find(\"label[for='\" + inputId + \"']\")\n        .attr('data-error', errorMsg);\n\n    setTimeout(function(){\n        if(inputElement.id.includes('select')){\n            // For select input, find first its respective input text\n            // then add the 'invalid' class\n            $(inputElement)\n                .parents('.select-wrapper')\n                .find('input.select-dropdown')\n                .addClass('invalid');\n        }\n        else $(inputElement).addClass('invalid');\n    },0);\n};\n\n// Place success from specific HTML input\nvar placeSuccess = function(inputElement){\n\n    // For select input, find first its respective input text\n    // then add the needed classes\n    var inputTextFromSelect = (inputElement.id.includes('select')) ? $(inputElement).parents('.select-wrapper').find('input.select-dropdown') : '';\n\n    // Check first if it is invalid\n    if($(inputElement).hasClass('invalid') || $(inputTextFromSelect).hasClass('invalid')){\n        $(inputElement)\n            .parents(\"form\")\n            .find(\"label[for='\" + inputElement.id + \"']\")\n            .attr('data-error', false);\n\n        setTimeout(function(){\n            if(inputElement.id.includes('select')) inputTextFromSelect.removeClass('invalid').addClass('valid');\n            else $(inputElement).removeClass('invalid').addClass('valid');\n        },0);\n    }\n    else {\n        if(inputElement.id.includes('select')) inputTextFromSelect.addClass('valid');\n        else $(inputElement).addClass('valid');\n    }\n}\n\nvar validationMethods = {\n    // functions must return either true or the errorMsg only\n    required: function(inputElement){\n        var errorMsg = 'This field is required';\n        return inputElement.value ? true : errorMsg;\n    },\n    requiredIfRadio: function(inputElement, radioId){\n        var errorMsg = 'This field is required';\n        var radioInputElement = document.getElementById(radioId);\n        if(radioInputElement.checked) return inputElement.value ? true : errorMsg;\n        else return true;\n    },\n    requiredDropdown: function(inputElement){\n        var errorMsg = 'This field is required';\n        return inputElement.value ? true : errorMsg;\n    },\n    email: function(inputElement){\n        var errorMsg = 'Please enter a valid email address';\n        return /\\S+@\\S+\\.\\S+/.test(inputElement.value) ? true : errorMsg;\n    },\n    minLength: function(inputElement, min){\n        var errorMsg = 'Please enter ' + min + ' or more characters';\n        return (inputElement.value.length >= min) ? true : errorMsg;\n    },\n    equalTo: function(inputElement, compareInputElementId){\n        var errorMsg = 'Please enter the same value';\n        var compareInputElement = document.getElementById(compareInputElementId);\n        return (inputElement.value === compareInputElement.value) ? true : errorMsg;\n    },\n    zipCodePh: function(inputElement){\n        var errorMsg = 'Please enter zipcode of 4 number characters';\n        return (/\\d{4}/.test(inputElement.value) && inputElement.value.length === 4) ? true : errorMsg;\n    },\n    phoneNumber: function(inputElement){\n        var errorMsg = 'Please enter 11-digit phone number starting with 09';\n        return (/^09\\d{9}/.test(inputElement.value) && inputElement.value.length === 11)  ? true : errorMsg;\n    }\n\n};\n","'use strict';\n\nvar validateFunction = function () {\n\n  return function () {\n    var validateInput = function (inputElement, modal) {\n\n      // Initialize needed validations\n      var validations = {\n        name: ['required'],\n        breed: ['requiredIfRadio:purebreed'],\n        fbreed: ['requiredIfRadio:crossbreed'],\n        mbreed: ['requiredIfRadio:crossbreed'],\n        'select-type': ['requiredDropdown'],\n        'select-farm': ['requiredDropdown'],\n        'edit-name': ['required'],\n        'edit-breed': ['requiredIfRadio:edit-purebreed'],\n        'edit-fbreed': ['requiredIfRadio:edit-crossbreed'],\n        'edit-mbreed': ['requiredIfRadio:edit-crossbreed'],\n        'edit-select-type': ['requiredDropdown'],\n        'edit-select-farm': ['requiredDropdown'],\n      };\n\n      // Check if validation rules exist\n      if (validations[inputElement.id]) {\n        var result = true;\n\n        for (var i = 0; i < validations[inputElement.id].length; i++) {\n          var element = validations[inputElement.id][i];\n\n          // Split arguments if there are any\n          var method = element.includes(':') ? element.split(':') : element;\n\n          result = (typeof (method) === 'object')\n            ? (validationMethods[method[0]](inputElement, method[1]))\n            : (validationMethods[method](inputElement));\n\n          // Result would return to a string errorMsg if validation fails\n          if (result !== true) {\n            placeError(inputElement, result);\n            return false;\n          }\n        }\n\n        // If all validations succeed then\n        if (result === true) {\n          placeSuccess(inputElement);\n          return true;\n        }\n      }\n    };\n\n    // focusout events on add-product-modal\n    $('body').on('focusout', '#add-product-modal input', function (e) {\n      validateInput(this, 'add-product-modal');\n    });\n\n    // keyup events on add-product-modal\n    $('body').on('keyup', '#add-product-modal input', function (e) {\n      if ($(this).hasClass('invalid') || $(this).hasClass('valid')) validateInput(this, 'add-product-modal');\n    });\n\n    // focusout and keyup events on add-product-modal\n    $('body').on('focusout keyup', '#edit-product-modal input', function (e) {\n      validateInput(this, 'edit-product-modal');\n    });\n\n    // select change events\n    $('select').change(function () {\n      validateInput(this);\n    });\n\n    // Remove respective 'invalid' class and input text value\n    // of current radio when radio value changes\n    $(\"#create-product input[name='radio-breed']\").change(function () {\n      if ($(\"#create-product input:checked\").val() === 'crossbreed') {\n        $('input#breed').val('');\n        $('input#breed').removeClass('valid invalid');\n      }\n      else {\n        $('input#fbreed, input#mbreed').val('');\n        $('input#fbreed, input#mbreed').removeClass('valid invalid');\n      }\n    });\n\n    // Temporary fix for prompting 'valid' class after\n    // value change on datepicker\n    $('#birthdate, #edit-birthdate').change(function (e) {\n      e.stopPropagation();\n      $(this).removeClass('invalid').addClass('valid');\n    });\n\n    // Submit add product\n    $(\"#create-product\").submit(function (e) {\n      e.preventDefault();\n\n      var validName = validateInput(document.getElementById('name'));\n      var validType = validateInput(document.getElementById('select-type'));\n      var validFarmFrom = validateInput(document.getElementById('select-farm'));\n      var validBreed = true;\n\n      // Validate appropriate breed input/s according to chosen radio breed value\n      if ($('#create-product input:checked').val() === 'crossbreed') {\n        var validFbreed = validateInput(document.getElementById('fbreed'));\n        var validMbreed = validateInput(document.getElementById('mbreed'));\n        validBreed = validBreed && validFbreed && validMbreed;\n      }\n      else validBreed = validateInput(document.getElementById('breed'));\n\n      if (validName && validType && validFarmFrom && validBreed) {\n        // Disable submit/add product button\n        $('#submit-button').addClass('disabled');\n        $('#submit-button').html('Adding Product ...');\n\n        product.add($('#create-product'));\n      }\n      else Materialize.toast('Please properly fill all required fields.', 2500, 'orange accent-2');\n\n    });\n\n    // Update details of a product\n    $('.update-button').click(function (e) {\n      e.preventDefault();\n\n      var validName = validateInput(document.getElementById('edit-name'));\n      var validType = validateInput(document.getElementById('edit-select-type'));\n      var validFarmFrom = validateInput(document.getElementById('edit-select-farm'));\n      var validBreed = true;\n\n      // Validate appropriate breed input/s according to chosen radio breed value\n      if ($('#edit-product input:checked').val() === 'crossbreed') {\n        var validFbreed = validateInput(document.getElementById('edit-fbreed'));\n        var validMbreed = validateInput(document.getElementById('edit-mbreed'));\n        validBreed = validBreed && validFbreed && validMbreed;\n      }\n      else validBreed = validateInput(document.getElementById('edit-breed'));\n\n      if (validName && validType && validFarmFrom && validBreed) {\n        // Disable update-button\n        $(this).addClass('disabled');\n        $(this).html('Updating...');\n\n        product.edit($('#edit-product'), $(this));\n      }\n      else Materialize.toast('Please properly fill all required fields.', 2500, 'orange accent-2');\n\n    });\n  }\n}\n\n$(document).ready(validateFunction());"]}