{"version":3,"sources":["createProfile_script.js","formValidationMethods.js","createProfile_validation.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"createProfile.js","sourcesContent":["/*\n * Profile-related scripts\n */\n\n$(document).ready(function(){\n    /*\n     * Create Profile specific\n     */\n\n    var select_province = function(i){\n        // Dynamically produce select element with options based on provinces\n        var selectElement = '<select name=\"farmAddress['+i+'][province]\">';\n\n        for(var key in provinces){\n            selectElement += '<option value=\"' + key + '\">' + key + '</option>';\n        }\n\n        selectElement += '</select>';\n\n        return selectElement;\n    };\n\n    // $('#create-profile #farm-tab').addClass('disabled');\n\n    // Next and previous buttons\n    $('#create-profile #next').click(function(e){\n        e.preventDefault();\n        if($('#farm-tab').hasClass('disabled')) $('#farm-tab').removeClass('disabled');\n        $('ul.tabs').tabs('select_tab','farm-information');\n    });\n\n    $('#create-profile #previous').click(function(e){\n        e.preventDefault();\n        $('ul.tabs').tabs('select_tab','personal-information');\n    });\n\n    // Remove inputs for the respective Farm Address in the Farm Information form\n    $('body').on('click', '#remove-farm' ,function(e){\n        e.preventDefault();\n        $('#remove-farm').tooltip('remove');\n\n        // Count how many current Farm Addresses are available\n        var i = $(\"#farm-address-body .add-farm\").length;\n\n        var parent = $(this).parentsUntil('#farm-address-body','.add-farm');\n        var prev_remove_button_field = parent.prev().find(\".remove-button-field\");\n        parent.remove().fadeOut('slow');\n\n        if (i > 1){\n            $('<a href=\"#\" id=\"remove-farm\" class=\"btn-floating btn-medium waves-effect waves-light deep-orange tooltipped\" data-position=\"left\" data-delay=\"50\" data-tooltip=\"Remove this Farm\" style=\"display:none\">'+\n                '<i class=\"material-icons\">remove</i>'+\n            '</a>').appendTo(prev_remove_button_field).fadeIn('slow');\n        }\n\n        // Redirect to specified section\n        location.href = '#farm-'+(i-1);\n        $(\"#remove-farm\").tooltip({delay:50});\n        Materialize.toast('Farm Information removed', 2000);\n\n    });\n\n    // Add another Farm Address\n    $(\"#add-farm\").on('click',function(e){\n        e.preventDefault();\n\n        // Check if there is a #remove-farm button and remove it\n        if($('#farm-address-body').has('#remove-farm')) $('#remove-farm').remove().fadeOut('slow');\n\n        // Count how many current Farm Addresses are available\n        var i = $(\"#farm-address-body .add-farm\").length+1;\n\n        // Append inputs for another Farm Address in the Farm Information form\n        $('<div class=\"row add-farm\" style=\"display:none;\">'+\n        '<div class=\"col s10 offset-s1\">'+\n            '<div id=\"farm-'+i+'\" class=\"card-panel hoverable\">'+\n                '<h5 class=\"center-align\"> Farm '+i+' </h5>'+\n\n                '<div class=\"row\">' +\n                  '<input ' +\n                    'type=\"checkbox\"' +\n                    'id=\"check-' + i + '\"' +\n                    'class=\"same-address-checker farm-' + i + ' filled-in\">' +\n                    '<label for=\"check-' + i + '\" class=\"teal-text text-darken-4\"><b>Address is same as Office Information</b></label> ' +\n                '</div>' +\n\n                '<div class=\"row\">'+\n                //  Farm Address: Name\n                    '<div class=\"input-field col s10 push-s1\">'+\n                        '<input name=\"farmAddress['+i+'][name]\" id=\"farmAddress['+i+'][name]\" type=\"text\">'+\n                        '<label for=\"farmAddress['+i+'][name]\">Name</label>'+\n                    '</div>'+\n                '</div>'+\n\n                '<div class=\"row\">'+\n                // Farm Address: Street Address\n                    '<div class=\"input-field col s10 push-s1\">'+\n                        '<input name=\"farmAddress['+i+'][addressLine1]\" id=\"farmAddress['+i+'][addressLine1]\" type=\"text\">'+\n                        '<label for=\"farmAddress['+i+'][addressLine1]\">Address Line 1* : Street, Road, Subdivision</label>'+\n                    '</div>'+\n                '</div>'+\n\n                '<div class=\"row\">'+\n                // Farm Address: Address Line 2\n                    '<div class=\"input-field col s10 push-s1\">'+\n                        '<input name=\"farmAddress['+i+'][addressLine2]\" id=\"farmAddress['+i+'][addressLine2]\" type=\"text\">'+\n                        '<label for=\"farmAddress['+i+'][addressLine2]\">Address Line 2* : Barangay, Town, City</label>'+\n                    '</div>'+\n                '</div>'+\n\n                '<div class=\"row\">'+\n                    // Farm Address: Province\n                    '<div class=\"input-field col s5 push-s1\">'+\n                        select_province(i) +\n                        '<label>Province*</label>'+\n                    '</div>'+\n\n                    // Farm Address: Zip Code\n                    '<div class=\"input-field col s5 push-s1\">'+\n                        '<input name=\"farmAddress['+i+'][zipCode]\" id=\"farmAddress['+i+'][zipCode]\" type=\"text\">'+\n                        '<label for=\"farmAddress['+i+'][zipCode]\">Postal/ZIP Code*</label>'+\n                    '</div>'+\n                '</div>'+\n\n\n                '<div class=\"row\">'+\n                    // Farm Type\n                    '<div class=\"input-field col s5 push-s1\">'+\n                        '<input name=\"farmAddress['+i+'][farmType]\" id=\"farmAddress['+i+'][farmType]\" type=\"text\">'+\n                        '<label for=\"farmAddress['+i+'][farmType]\">Farm Type*</label>'+\n                    '</div>'+\n                '</div>'+\n\n\n                '<div class=\"row\">'+\n                    // Farm Landline\n                    '<div class=\"input-field col s5 push-s1\">'+\n                        '<input name=\"farmAddress['+i+'][landline]\" id=\"farmAddress['+i+'][landline]\" type=\"text\">'+\n                        '<label for=\"farmAddress['+i+'][landline]\">Landline</label>'+\n                    '</div>'+\n\n                    // Farm Mobile\n                    '<div class=\"input-field col s5 push-s1\">'+\n                        '<input name=\"farmAddress['+i+'][mobile]\" id=\"farmAddress['+i+'][mobile]\" type=\"text\">'+\n                        '<label for=\"farmAddress['+i+'][mobile]\">Mobile*</label>'+\n                    '</div>'+\n                '</div>'+\n\n                '<div class=\"row \">'+\n                    '<div class=\"col offset-s10 remove-button-field\">'+\n                        '<a href=\"#\" id=\"remove-farm\" class=\"btn-floating btn-medium waves-effect waves-light deep-orange tooltipped\" data-position=\"left\" data-delay=\"50\" data-tooltip=\"Remove this Farm\">'+\n                            '<i class=\"material-icons\">remove</i>'+\n                        '</a>'+\n                    '</div>'+\n                '</div>'+\n            '</div>'+\n        '</div>'+\n        '</div>').appendTo('#farm-address-body').fadeIn('slow');\n\n        $('#farm-address-body select').material_select();\n        // Redirect to specified section\n        location.href = '#farm-'+i;\n        $(\"#remove-farm\").tooltip({delay:50});\n        Materialize.toast('Farm Information added', 2000);\n    });\n\n  // Same address as office information feature\n  $(\".same-address-checker\").change(function (e) {\n    e.preventDefault();\n\n    var farm_specific = $(this).attr('class').split(' ')[1];\n    var farm_specific_province = \"#\" + farm_specific;\n    farm_specific = \".\" + farm_specific;\n  \n    var address_address1 = $(\"#address_addressLine1\").val();\n    var address_address2 = $(\"#address_addressLine2\").val();\n    var address_province = $(\"#address_province\").val();\n    var address_postal_zip_code = $(\"#address_zipCode\").val();\n    var address_landline = $(\"#landline\").val();\n    var address_mobile = $(\"#mobile\").val();\n\n    if ($(this).is(\":checked\")) {\n\n      // set values\n      $(farm_specific + \"-addressLine1\").val(address_address1).addClass('input-show-hide');\n      $(farm_specific + \"-addressLine2\").val(address_address2).addClass('input-show-hide');\n      \n      //$(farm_specific).find('input[class=select-dropdown]').val(address_province).addClass('input-show-hide');\n      \n      $(farm_specific + \"-zipCode\").val(address_postal_zip_code).addClass('input-show-hide');\n      $(farm_specific + \"-landline\").val(address_landline).addClass('input-show-hide');\n      $(farm_specific + \"-mobile\").val(address_mobile).addClass('input-show-hide');\n    }\n    else {\n      $(farm_specific + \"-addressLine1\").val('').removeClass('input-show-hide');\n      $(farm_specific + \"-addressLine2\").val('').removeClass('input-show-hide');\n      // $(farm_specific).find('input[class=select-dropdown]').val('Abra').removeClass('input-show-hide');\n      $(farm_specific + \"-zipCode\").val('').removeClass('input-show-hide');\n      $(farm_specific + \"-farmType\").val('').removeClass('input-show-hide');\n      $(farm_specific + \"-landline\").val('').removeClass('input-show-hide');\n      $(farm_specific + \"-mobile\").val('').removeClass('input-show-hide');\n    }\n    \n  });\n});\n","\"use strict\";\n\n// Place error on specific HTML input\nvar placeError = function(inputElement, errorMsg) {\n  // Parse id of element if it contains '-' for the special\n  // case of finding the input's respective\n  // label on editProfile pages\n  var inputId =\n    inputElement.id.includes(\"-\") && /\\d/.test(inputElement.id)\n      ? inputElement.id.split(\"-\")[2]\n      : inputElement.id;\n\n  $(inputElement)\n    .parents(\"form\")\n    .find(\"label[for='\" + inputId + \"']\")\n    .attr(\"data-error\", errorMsg);\n\n  setTimeout(function() {\n    if (inputElement.id.includes(\"select\")) {\n      // For select input, find first its respective input text\n      // then add the 'invalid' class\n      $(inputElement)\n        .parents(\".select-wrapper\")\n        .find(\"input.select-dropdown\")\n        .addClass(\"invalid\");\n\n      if (inputId === \"select-type\") {\n        /* Show the validation error  */\n        $(\"#select-type-data-error\").show();\n        $(\"#select-type\").on('change', function () {\n          /* Remove validation error if an option is selected */\n          $(\"#select-type-data-error\").hide();\n        });\n      }\n      else if (inputId === \"select-farm\") {\n        /* Show the validation error  */\n        $(\"#select-farm-data-error\").show();\n        $(\"#select-farm\").on('change', function () {\n          /* Remove validation error if an option is selected */\n          $(\"#select-farm-data-error\").hide();\n        });\n      }\n\n    }\n    else $(inputElement).addClass(\"invalid\");\n  }, 0);\n};\n\n// Place success from specific HTML input\nvar placeSuccess = function(inputElement) {\n  // For select input, find first its respective input text\n  // then add the needed classes\n  var inputTextFromSelect = inputElement.id.includes(\"select\")\n    ? $(inputElement)\n        .parents(\".select-wrapper\")\n        .find(\"input.select-dropdown\")\n    : \"\";\n\n  // Check first if it is invalid\n  if (\n    $(inputElement).hasClass(\"invalid\") ||\n    $(inputTextFromSelect).hasClass(\"invalid\")\n  ) {\n    $(inputElement)\n      .parents(\"form\")\n      .find(\"label[for='\" + inputElement.id + \"']\")\n      .attr(\"data-error\", false);\n\n    setTimeout(function() {\n      if (inputElement.id.includes(\"select\"))\n        inputTextFromSelect.removeClass(\"invalid\").addClass(\"valid\");\n      else\n        $(inputElement)\n          .removeClass(\"invalid\")\n          .addClass(\"valid\");\n    }, 0);\n  } else {\n    if (inputElement.id.includes(\"select\"))\n      inputTextFromSelect.addClass(\"valid\");\n    else $(inputElement).addClass(\"valid\");\n  }\n};\n\nvar validationMethods = {\n  // functions must return either true or the errorMsg only\n  required: function(inputElement) {\n    var errorMsg;\n    if (inputElement.name === \"name\") errorMsg = \"Please enter product name\";\n    else errorMsg = \"This field is required\";\n\n    return inputElement.value ? true : errorMsg;\n  },\n  requiredIfRadio: function(inputElement, radioId) {\n    var errorMsg;\n    if (\n      inputElement.name === \"breed\" ||\n      inputElement.name === \"fbreed\" ||\n      inputElement.name === \"mbreed\"\n    ) {\n      errorMsg = \"Please enter swine breed\";\n    } else errorMsg = \"This field is required.\";\n\n    var radioInputElement = document.getElementById(radioId);\n    if (radioInputElement.checked) return inputElement.value ? true : errorMsg;\n    else return true;\n  },\n  requiredDropdown: function(inputElement) {\n    var errorMsg = \"This field is required\";\n    return inputElement.value ? true : errorMsg;\n  },\n  email: function(inputElement) {\n    var errorMsg = \"Please enter a valid email address\";\n    return /\\S+@\\S+\\.\\S+/.test(inputElement.value) ? true : errorMsg;\n  },\n  minLength: function(inputElement, min) {\n    var errorMsg = \"Please enter \" + min + \" or more characters\";\n    return inputElement.value.length >= min ? true : errorMsg;\n  },\n  equalTo: function(inputElement, compareInputElementId) {\n    var errorMsg = \"Please enter the same value\";\n    var compareInputElement = document.getElementById(compareInputElementId);\n    return inputElement.value === compareInputElement.value ? true : errorMsg;\n  },\n  zipCodePh: function(inputElement) {\n    var errorMsg = \"Please enter zipcode of 4 number characters\";\n    return /\\d{4}/.test(inputElement.value) && inputElement.value.length === 4\n      ? true\n      : errorMsg;\n  },\n  phoneNumber: function(inputElement) {\n    var errorMsg = \"Please enter 11-digit phone number starting with 09\";\n    return /^09\\d{9}/.test(inputElement.value) &&\n      inputElement.value.length === 11\n      ? true\n      : errorMsg;\n  }\n};\n","'use strict';\n\nvar validateFunction = function(){\n\n    return function(){\n        var validateInput = function(inputElement){\n\n            // Extract index from id of input element of farm information\n            // to be used for the computed property\n            // of validations object\n            var index = (inputElement.id.includes('[')) ? inputElement.id.match(/\\d+/)[0]: 1;\n\n            // Initialize needed validations\n            var validations = {\n                address_addressLine1: ['required'],\n                address_addressLine2: ['required'],\n                address_zipCode: ['required', 'zipCodePh'],\n                // landline: ['landline'],\n                mobile: ['required', 'phoneNumber'],\n                ['farmAddress[' + index + '][name]']: ['required'],\n                ['farmAddress[' + index + '][addressLine1]']: ['required'],\n                ['farmAddress[' + index + '][addressLine2]']: ['required'],\n                ['farmAddress[' + index + '][zipCode]']: ['required', 'zipCodePh'],\n                ['farmAddress[' + index + '][farmType]']: ['required'],\n                ['farmAddress[' + index + '][mobile]']: ['required', 'phoneNumber']\n            };\n\n            // Check if validation rules exist\n            if(validations[inputElement.id]){\n                var result = true;\n\n                for (var i = 0; i < validations[inputElement.id].length; i++) {\n                    var element = validations[inputElement.id][i];\n\n                    // Split arguments if there are any\n                    var method = element.includes(':') ? element.split(':') : element;\n\n                    result = (typeof(method) === 'object')\n                        ? (validationMethods[method[0]](inputElement, method[1]))\n                        : (validationMethods[method](inputElement));\n\n                    // Result would return to a string errorMsg if validation fails\n                    if(result !== true){\n                        placeError(inputElement, result);\n                        return false;\n                    }\n                }\n\n                // If all validations succeed then\n                if(result === true){\n                    placeSuccess(inputElement);\n                    return true;\n                }\n            }\n        };\n\n        // onfocusout events\n        $('body').on('focusout', 'input', function(e){\n            e.preventDefault();\n\n            validateInput(this);\n        });\n\n        // onkeyup events\n        $('body').on('keyup', 'input', function(e){\n            if($(this).hasClass('invalid') || $(this).hasClass('valid')) validateInput(this);\n        });\n\n        $(\"button[type='submit']\").click(function(e){\n            e.preventDefault();\n\n            var address_addressLine1 = validateInput(document.getElementById('address_addressLine1'));\n            var address_addressLine2 = validateInput(document.getElementById('address_addressLine2'));\n            var address_zipCode = validateInput(document.getElementById('address_zipCode'));\n            var mobile = validateInput(document.getElementById('mobile'));\n\n            // Count how many current Farm Addresses are available\n            var farmNumber = $(\"#farm-address-body .add-farm\").length+1;\n            var farmValid = true;\n\n            for (var i = 1; i < farmNumber; i++) {\n\n                var farm_name = validateInput(document.getElementById('farmAddress[' + i + '][name]'));\n                var farm_addressLine1 = validateInput(document.getElementById('farmAddress[' + i + '][addressLine1]'));\n                var farm_addressLine2 = validateInput(document.getElementById('farmAddress[' + i + '][addressLine2]'));\n                var farm_zipCode = validateInput(document.getElementById('farmAddress[' + i + '][zipCode]'));\n                var farmType = validateInput(document.getElementById('farmAddress[' + i + '][farmType]'));\n                var farm_mobile = validateInput(document.getElementById('farmAddress[' + i + '][mobile]'));\n\n                farmValid = farmValid && farm_name && farm_addressLine1 && farm_addressLine2 && farm_zipCode && farmType && farm_mobile;\n            }\n\n            // Submit if all validations are met\n            if(address_addressLine1 && address_addressLine2 && address_zipCode && mobile && farmValid){\n                $(this).addClass('disabled');\n                $(this).parents('form').submit();\n            }\n            else Materialize.toast('Please properly fill all required fields.', 2500, 'orange accent-2');\n        });\n\n    }\n}\n\n$(document).ready(validateFunction());\n"]}